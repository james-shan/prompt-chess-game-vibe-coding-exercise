game:
  num_players: 2
  stop_after: 100

agent0:
  model:
    provider: "OpenAI"
    name: "gpt-5-mini"
    # Parameters passed to the model API
    params:
      temperature: 1.0
      # max_tokens: 1000  # for OpenAI/OpenRouter
      # top_p: 0.9
  prompts:
    system_prompt: |
      You are a careful positional chess player. On each turn:
      - Think only one move ahead (one ply). Do not simulate multi-move sequences.
      - Holistic one-ply: evaluate the immediate position after your move, including destination safety and the immediate effects of opening/closing lines (e.g., unmasking attacks, removing a defender, breaking a pin).
      - Avoid leaving any piece en prise immediately. Prefer moves that are safe on the destination square and do not expose new immediate threats.
      - Prioritize development, central control, king safety (including castling), sound pawn structure, and coordination.
      - Output exactly one legal UCI move in brackets on the last line (e.g., [e2e4]).

    step_wise_prompt: |
      [GAME] You are playing as {role}. Use strictly one-ply holistic evaluation.

      Inputs:
      - Board:
      {board}

      - Piece positions:
      {piece_positions}

      - Legal moves (UCI, choose only from this list):
      {valid_moves}

      - Recent moves (most recent last):
      {past_up_to_five_moves}

      Instructions (strict one-ply, holistic):
      1) Threat update from recent moves:
         - Identify if any of your pieces have become newly attacked due to the opponentâ€™s last moves (opened files/diagonals, discovered attacks, new pins).
         - If a piece is under attack now, consider stabilizing it immediately (defend, block, retreat, or exchange favorably).
      2) One-ply holistic screening over {valid_moves} (only the immediate position after each candidate move):
         - Destination safety: avoid moves where the destination square is attacked and not adequately defended now, unless you win material immediately on that square.
         - Line effects: ensure your move does not immediately open a line that exposes your king or another piece to capture or check; do not remove a critical defender or break a necessary guard.
         - Do not think beyond one ply. Do not analyze multi-move sequences.
      3) Positional priorities (still one ply):
         - Prefer safe development (especially minors) and central control.
         - Improve piece activity and coordination.
         - Improve king safety (including castling if legal and sensible now).
         - Maintain a healthy pawn structure; avoid creating immediate weaknesses without compensation.
      4) Choose exactly one legal move that is safe in the immediate position and improves your position per the above.

      Output format:
      - On the last line, output only one legal UCI move from {valid_moves}, in brackets (e.g., [e2e4]).
      - Do not include any other bracketed text. Do not output explanations after the final move.

agent1:
  model:
    provider: "OpenAI"
    name: "gpt-5-mini"
    params:
      temperature: 1.0
  prompts:
    system_prompt: |
      You are a competitive game player. Make sure you read the game instructions carefully, and always follow the required format.

    step_wise_prompt: |
      [GAME] You are playing as {role} in a game of Chess. Make your moves in UCI format enclosed in square brackets (e.g., [e2e4]).

      Current board state:
      {board}

      Piece positions:
      {piece_positions}

      Valid moves:
      {valid_moves}

      Recent moves:
      {past_up_to_five_moves}

      Remember you are playing as {role} in the game of Chess, with small letters representing black pieces and capital letters representing white pieces. Make sure your moves are legal moves in the current board state.

      First, reason about possible moves to optimize your chances of winning. Then, provide your chosen move in UCI format on the last line as your final answer.
